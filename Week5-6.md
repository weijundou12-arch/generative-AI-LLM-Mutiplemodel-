Week 5：RAG 原理（从 0 到能讲清楚“为什么这样做”）
章节重点 1：RAG 是什么、解决什么问题

面试考点 1：什么是 RAG？为什么需要 RAG？
满分简答：RAG（Retrieval-Augmented Generation）= 检索 + 生成。它用外部知识库补足 LLM 的“参数内知识”局限，降低幻觉、提升时效性与可追溯性，并让企业能把私有文档接到模型上做问答与写作。

面试考点 2：RAG 相比“直接把文档塞进 Prompt”优势在哪？
满分简答：直接塞 prompt 会被上下文长度卡住且噪声大；RAG 通过检索把最相关的片段挑出来，更省 token、更可控、更容易给引用，并能持续更新知识库无需重训模型。

章节重点 2：RAG 的标准流水线（你要能画出来并解释每步）

面试考点 3：标准 RAG pipeline 有哪些步骤？
满分简答：数据摄取 → 清洗去重 → 切分 chunk → 向量/关键词索引 → 查询改写 → 检索（可能混合）→ 重排 rerank → 上下文压缩 → 生成（带引用）→ 评测与监控。

章节重点 3：Chunking（切块）是 RAG 成败关键

面试考点 4：为什么要 chunk？chunk 多大合适？
满分简答：检索是对 chunk 做匹配，chunk 太大→噪声多，太小→信息断裂。常用策略是 200–500 tokens + 重叠（overlap），并用标题/段落结构做边界；“合适”取决于文档密度和问题粒度。

面试考点 5：overlap 为什么有效？代价是什么？
满分简答：overlap 防止关键句跨块导致召回失败；代价是索引体积变大、检索候选重复，需要去重/合并。

章节重点 4：检索（Retrieval）两大派：稀疏 vs 稠密 vs 混合

面试考点 6：BM25/关键词检索和向量检索差别？
满分简答：BM25 擅长精确术语匹配（金额、指标名、条款编号），向量检索擅长语义相似（同义改写、描述性问题）。真实企业场景常用 Hybrid，因为问题类型混杂。

面试考点 7：为什么 Hybrid（混合检索）经常是最强基线？
满分简答：稀疏保证“硬匹配”，稠密保证“语义召回”，两者互补，能显著提高召回率与鲁棒性；再配合 RRF/加权融合可稳定提升。

面试考点 8：RRF（Reciprocal Rank Fusion）是什么？为什么好用？
满分简答：RRF 用排名倒数加和融合多个检索器结果，对分数尺度不敏感、实现简单、效果稳，是混合检索常用融合方法。

章节重点 5：Rerank（重排）与压缩（Compression）

面试考点 9：为什么需要 reranker？
满分简答：第一阶段检索追求“召回”，候选里仍有噪声；reranker 用更强模型或更细特征把真正相关的排到前面，提高答案准确性与引用质量。

面试考点 10：什么是 Contextual Compression？
满分简答：把检索到的 chunk 再做“句子级过滤/摘要”，只保留与问题直接相关的句子，减少 prompt 噪声、降低 token、提升生成质量（尤其长文档场景）。

章节重点 6：Query 改写（Query Rewrite / Multi-Query）

面试考点 11：为什么 query rewrite 能提升检索？
满分简答：用户问题常含代词、省略、口语，检索器更偏好明确关键词/指标名。改写把问题变“检索友好”能提升召回（尤其 BM25）。

面试考点 12：Multi-Query / HyDE 是什么？
满分简答：Multi-Query 生成多个等价问法扩大召回；HyDE 先生成“假想答案”再去检索，与语义检索结合能提升召回。代价是请求变多、延迟更高，需要缓存与限流。

章节重点 7：生成（Grounded Generation）与引用

面试考点 13：RAG 如何降低幻觉？
满分简答：靠“可检索证据”约束生成：只允许基于引用片段回答，缺证据就说“不确定/需要更多信息”；并把引用片段编号输出，便于审计。

面试考点 14：如何做“可追溯引用”？
满分简答：chunk 带元数据（doc_id、页码/段落、时间），生成时把用到的 chunk id 附在句子或段落后；这样答案能回溯到原文。

章节重点 8：评测与监控（工业必须）

面试考点 15：RAG 评测看哪些指标？
满分简答：检索侧看 Recall@k / MRR / nDCG；生成侧看 faithfulness（是否被证据支持）、answer correctness、citation precision；线上看延迟、命中率、无答案率、用户反馈。

面试考点 16：RAG 常见失败模式？怎么定位？
满分简答：失败分三类：
1）没召回（chunk/索引/改写问题）
2）召回了但没排对（需要 rerank/融合/过滤）
3）证据有但生成瞎编（提示词约束、引用强制、temperature 降低、拒答策略）

Week 6：金融 RAG 实战（工业级要点 + 典型难点）
章节重点 1：金融文档的特殊性

面试考点 17：金融 RAG 文档有哪些特点？
满分简答：结构强（章节/表格/指标）、术语密集、数字敏感、时效性强、合规要求高。RAG 必须重视 结构化元数据、数字提取、引用与审计。

面试考点 18：为什么金融场景“稀疏检索”特别重要？
满分简答：指标名、条款编号、报表科目是硬关键词（EPS、EBITDA、净利率等），BM25 往往能稳稳命中精确段落；纯向量可能把数字/科目匹配得不够精确。

章节重点 2：表格/数字与“可计算回答”

面试考点 19：金融问答为什么常要“工具调用/计算器”？
满分简答：很多问题需要从证据中抽数再算（同比、环比、margin、杠杆率）。最可靠做法是 RAG 找证据 → 结构化抽取 → 用代码计算 → 再生成解释，避免模型心算编数。

章节重点 3：合规、安全、风控

面试考点 20：金融 RAG 的合规要点？
满分简答：权限隔离（不同用户看不同文档）、审计日志（谁问了什么、引用了什么）、拒答与免责声明（非投资建议）、以及敏感信息脱敏（PII/账户信息）。

章节重点 4：工业级“20 种常用优化”（你面试能直接报）

我用“面试考点”方式压缩成可背答案：

面试考点 21：RAG 常见优化手段有哪些？（给出系统性答案）
满分简答：可按模块分：
1）数据：去重、结构化元数据、版本管理
2）切块：结构感知 chunk、overlap、语义切块
3）检索：BM25+向量混合、RRF、过滤、MMR 多样化
4）重排：cross-encoder rerank、规则 rerank
5）压缩：句子级过滤、摘要、引用高亮
6）查询：rewrite、multi-query、HyDE、缓存
7）生成：强约束提示、引用强制、拒答策略
8）评测：离线基准集+线上监控闭环
